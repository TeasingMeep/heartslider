"use strict";
/* Heartslider â€“ v3.2.6 */
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var HeartSlider=function(){function t(e){_classCallCheck(this,t);var i=this;for(var s in i.settings={delay:1e3,effect:"fadeOut",loop:!0,paused:!1,pauseOnInactiveWindow:!1,progressive:!0,randomize:!1,slideshow:".heart-slideshow",slides:".heart-slide",swipe:!0,clickToAdvance:!1,transition:3e3},e)this.settings.hasOwnProperty(s)&&(this.settings[s]=e[s]);if(this.slideshowSelector="object"===_typeof(i.settings.slideshow)?i.settings.slideshow:document.querySelector(i.settings.slideshow),!this.slideshowSelector)return!1;if(this.slideshowSelector.classList.contains("heart-slideshow")||this.slideshowSelector.classList.add("heart-slideshow"),this.slides=Array.prototype.slice.apply(this.slideshowSelector.querySelectorAll(this.settings.slides)),0===this.slides.length&&(this.slides=Array.prototype.slice.apply(this.slideshowSelector.children)),this.total=this.slides.length,this.index=0,this.manualTimeout,this.settings.randomize&&(this.index=Math.floor(Math.random()*this.total)),this.settings.progressive&&this.progressiveLoad(this.index,!0,this),this.firstIndex=this.index,this.slides.forEach(function(t,e){e!==i.firstIndex&&(t.setAttribute("aria-hidden","true"),t.setAttribute("tab-index","-1")),t.classList.contains("heart-slide")||t.classList.add("heart-slide"),i.settings.swipe&&t.setAttribute("draggable","true")}),this.goToSlide(this.firstIndex,!1,!0),this.slides.length<2)return!1;i.kickstart=function(){if(i.settings.progressive){i.slideshowSelector.classList.add("first-image-loaded");window.requestAnimationFrame(function(){setTimeout(function(){i.progressiveLoad((i.firstIndex+1+i.total)%i.total)},i.settings.delay)})}i.settings.paused||setTimeout(function(){i.resume()},.5*i.settings.delay+i.settings.transition)},i.settings.progressive||setTimeout(function(){i.slideshowSelector.classList.add("progressive-loading-disabled"),i.kickstart()},100);i.settings.pauseOnInactiveWindow&&document.addEventListener("visibilitychange",function(){return i.heartVisibilityHandler(i)},!0),i.settings.swipe&&(i.slideshowSelector.addEventListener("touchstart",i.swipeHandler(i).handleTouchStart,!1),i.slideshowSelector.addEventListener("touchmove",i.swipeHandler(i).handleTouchMove,!1));var n,o,a=i.slideshowSelector.querySelectorAll("button[class*='heart-']");(2===a.length&&a.forEach(function(t){t.classList.contains("heart-next")?t.addEventListener("click",function(){n||(i.pause(),i.next(i,!0,!1,!0),n=setTimeout(function(){n=void 0},200))}):t.classList.contains("heart-prev")&&t.addEventListener("click",function(){n||(i.pause(),i.previous(i,!0,!1,!0),n=setTimeout(function(){n=void 0},200))})}),i.settings.clickToAdvance)&&i.slideshowSelector.addEventListener("click",function(){n||(i.pause(),i.next(i,!0,!1,!0),n=setTimeout(function(){n=void 0},400),i.settings.paused||(o&&clearTimeout(o),o=setTimeout(function(){i.resume()},i.settings.transition+i.settings.delay)))},!1);i.prevNextHandler=function(t,e,s){if(!0!==i.transitioning)!0===s&&i.progressiveLoad(e),i.goToSlide(t,s,!1,!1),setTimeout(function(){i.transitioning=!1},s?400:i.settings.transition);else if(!0===s){i.manualTimeout&&clearTimeout(i.manualTimeout),i.settings.paused,i.progressiveLoad(e);return void i.goToSlide(i.index,s,!1,!0)}}}return _createClass(t,[{key:"swipeHandler",value:function(t){function e(t){return t.touches||t.originalEvent.touches}return this.xDown=null,this.yDown=null,{getTouches:e,handleTouchStart:function(t){var i=e(t)[0];this.xDown=i.clientX,this.yDown=i.clientY},handleTouchMove:function(e){if(this.xDown&&this.yDown){var i=e.touches[0].clientX,s=e.touches[0].clientY,n=this.xDown-i,o=this.yDown-s;Math.abs(n)>Math.abs(o)&&(n>0?(e.preventDefault(),t.pause(),t.next(t,!0,!1,!0)):(e.preventDefault(),t.pause(),t.previous(t,!0,!1,!0))),this.xDown=null,this.yDown=null}}}}},{key:"heartVisibilityHandler",value:function(t){null!==t&&t.settings.pauseOnInactiveWindow&&null!==document.querySelector(t.settings.slideshow)&&("hidden"==document.visibilityState?(console.log("%cWindow Lost Focus. HeartSlider is Paused.","font-style: italic; font-size: 0.9em; color: #757575; padding: 0.2em;"),t.pause()):(console.log("%cRegained Focus. Resumed HeartSlider.","font-style: italic; font-size: 0.9em; color: #6F9F67; padding: 0.2em;"),t.resume()))}},{key:"goToSlide",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.transitioning&&!s)return!1;if(!this.settings.loop&&!i&&t===this.firstIndex)return this.pause(),!1;this.transitioning=!0;var n=this,o=n.slides[n.index],a=(t+n.total)%n.total,r=n.slides[a],l=e||i||s?400:n.settings.transition;o===r&&s&&(r.style.transitionDuration=l+"ms",r.style.transitionDelay="0ms"),n.index=a,n.progressiveLoad(a),n.progressiveLoad((a+1+n.total)%n.total),window.requestAnimationFrame(function(){o!==r&&(o.style.transitionDelay=l+"ms",o.style.transitionDuration="0ms",o.classList.remove("active")),r.style.transitionDelay="0ms",r.style.transitionDuration=l+"ms",r.removeAttribute("aria-hidden"),r.removeAttribute("tab-index"),r.classList.add("active"),setTimeout(function(){i||(o.setAttribute("aria-hidden","true"),o.setAttribute("tab-index","-1")),n.transitioning=!1},l)})}},{key:"progressiveLoad",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=Array.prototype.slice.call(this.slides[t].querySelectorAll("img"));s.length>0&&s.forEach(function(t,s){if(null!=t&&!t.classList.contains("image-loaded")&&!t.classList.contains("image-loading")&&null!==t.currentSrc){t.classList.add("image-loading"),t.addEventListener("load",function(){this.classList.add("image-loaded"),this.classList.remove("image-loading"),e&&0==s&&i.kickstart()});["sizes","srcset","src"].forEach(function(e){var i=t.getAttribute("data-"+e);i&&null==t.getAttribute(e)&&(t.setAttribute(e,i),t.setAttribute("data-"+e,""))})}})}},{key:"next",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(t.index+1+t.total)%t.total,s=(i+1+t.total)%t.total;t.prevNextHandler(i,s,e)}},{key:"previous",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(t.index-1+t.total)%t.total,s=i;t.prevNextHandler(i,s,e)}},{key:"resume",value:function(){var t=this;t.settings.paused&&(t.settings.paused=!1);var e=(t.index+1+t.total)%t.total;t.settings.progressive&&setTimeout(function(){t.progressiveLoad((e+1+t.total)%t.total)},t.settings.delay),t.goToSlide(e),this.slideInterval=setInterval(function(){t.next(t,!1)},t.settings.delay+t.settings.transition)}},{key:"pause",value:function(){this.settings.paused||(this.settings.paused=!0,clearTimeout(this.manualTimeout),clearInterval(this.slideInterval))}}]),t}();