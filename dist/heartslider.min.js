"use strict";
/* Heartslider â€“ v3.3.2 */
"use strict";function _createForOfIteratorHelper(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var HeartSlider=function(){function t(e){_classCallCheck(this,t),_defineProperty(this,"next",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(t.index+1+t.total)%t.total,n=(i+1+t.total)%t.total;t.prevNextHandler(i,n,e)}),_defineProperty(this,"previous",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(t.index-1+t.total)%t.total,n=i;t.prevNextHandler(i,n,e)}),_defineProperty(this,"resume",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.settings.paused&&(t.settings.paused=!1);var e=(t.index+1+t.total)%t.total;t.settings.progressive&&setTimeout(function(){t.progressiveLoad((e+1+t.total)%t.total)},t.settings.delay),t.goToSlide(e),this.slideInterval=setInterval(function(){t.next(t,!1)},t.settings.delay+t.settings.transition)}),_defineProperty(this,"pause",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.settings.paused||(t.settings.paused=!0,clearTimeout(this.manualTimeout),clearTimeout(this.kickoffTimer),clearInterval(this.slideInterval))});var i=this;for(var n in i.settings={buttons:!1,clickToAdvance:!1,delay:1e3,effect:"fadeOut",loop:!0,manualTransition:400,paused:!1,pauseOnInactiveWindow:!1,progressive:!0,randomize:!1,slideshow:".heart-slideshow",slides:".heart-slide",swipe:!0,transition:3e3},e)this.settings.hasOwnProperty(n)&&(this.settings[n]=e[n]);if(this.slideshowSelector="object"===_typeof(i.settings.slideshow)?i.settings.slideshow:document.querySelector(i.settings.slideshow),!this.slideshowSelector)return!1;if(this.slideshowSelector.classList.contains("heart-slideshow")||this.slideshowSelector.classList.add("heart-slideshow"),this.slides=Array.prototype.slice.apply(this.slideshowSelector.querySelectorAll(this.settings.slides)),0===this.slides.length){var s=this.slideshowSelector.children;this.slides=_toConsumableArray(s).filter(function(t){return"BUTTON"!==t.tagName})}if(this.total=this.slides.length,this.index=0,this.manualTimeout,this.originallyPaused=this.settings.paused,this.settings.randomize&&(this.index=Math.floor(Math.random()*this.total)),this.settings.progressive&&this.progressiveLoad(this.index,!0,this),this.firstIndex=this.index,this.slides.forEach(function(t,e){e!==i.firstIndex&&(t.setAttribute("aria-hidden","true"),t.setAttribute("tab-index","-1")),t.classList.contains("heart-slide")||t.classList.add("heart-slide"),i.settings.swipe&&t.setAttribute("draggable","true")}),this.goToSlide(this.firstIndex,!1,!0),this.slides.length<2)return!1;i.settings.progressive||setTimeout(function(){i.slideshowSelector.classList.add("progressive-loading-disabled"),i.kickstart()},100);var r,o;(i.settings.pauseOnInactiveWindow&&document.addEventListener("visibilitychange",function(){return i.heartVisibilityHandler(i)},!0),i.settings.swipe&&(i.slideshowSelector.addEventListener("touchstart",i.swipeHandler(i).handleTouchStart,!1),i.slideshowSelector.addEventListener("touchmove",i.swipeHandler(i).handleTouchMove,!1)),i.settings.clickToAdvance)&&i.slideshowSelector.addEventListener("click",function(){r||(i.pause(),i.next(i,!0,!1,!0),r=setTimeout(function(){r=void 0},i.settings.manualTransition),i.originallyPaused||(o&&clearTimeout(o),o=setTimeout(function(){i.resume()},i.settings.transition+1.25*i.settings.delay)))},!1);var a,l,u=i.slideshowSelector.querySelectorAll("button[class*='heart-']");(i.settings.buttons||2===u.length)&&function(){function t(t){r||(i.pause(),t.classList.contains("heart-next")?i.next(i,!0,!1,!0):t.classList.contains("heart-prev")&&i.previous(i,!0,!1,!0),r=setTimeout(function(){r=void 0},200))}if(0===u.length){var e=["heart-prev","heart-next"];for(a=0;a<e.length;a++)(l=document.createElement("button")).classList.add(e[a]),l.setAttribute("aria-label",e[a].replace("heart-","")),l.setAttribute("tab-index","0"),l.addEventListener("click",function(e){t(e.currentTarget)},!1),i.slideshowSelector.appendChild(l)}else{var n,s=_createForOfIteratorHelper(u);try{for(s.s();!(n=s.n()).done;){var o=n.value;o.setAttribute("tab-index","0");var d=o.classList.contains("heart-prev")?"prev":"next";o.setAttribute("aria-label",d),o.addEventListener("click",function(e){t(e.currentTarget)},!1)}}catch(t){s.e(t)}finally{s.f()}}}()}return _createClass(t,[{key:"kickstart",value:function(){var t=this;if(t.settings.progressive){t.slideshowSelector.classList.add("first-image-loaded");window.requestAnimationFrame(function(){setTimeout(function(){t.progressiveLoad((t.firstIndex+1+t.total)%t.total)},t.settings.delay)})}t.settings.paused||(t.kickoffTimer=setTimeout(function(){t.resume(),t.kickoffTimer=void 0},.5*t.settings.delay+t.settings.transition))}},{key:"on",value:function(t,e){var i=["transitionStart","transitionEnd"];if(i.includes(t))if("function"==typeof e){function n(i){var n=new CustomEvent(t,{detail:{slideshow:i}});i.slideshowSelector.dispatchEvent(n),e(n.detail.slideshow,n.detail.slideshow.slideshowSelector,n.detail.slideshow.currentSlide)}"transitionStart"===t&&(this.transitionStart=function(t){n(t)}),"transitionEnd"===t&&(this.transitionEnd=function(t){n(t)})}else console.warn("Your second argument for "+t+" must be a function.");else console.warn('"'+t+'" is not a valid event. Try one of these:',i)}},{key:"swipeHandler",value:function(t){function e(t){return t.touches||t.originalEvent.touches}return this.xDown=null,this.yDown=null,{getTouches:e,handleTouchStart:function(t){var i=e(t)[0];this.xDown=i.clientX,this.yDown=i.clientY},handleTouchMove:function(e){if(this.xDown&&this.yDown){var i=e.touches[0].clientX,n=e.touches[0].clientY,s=this.xDown-i,r=this.yDown-n;Math.abs(s)>Math.abs(r)&&(s>0?(e.preventDefault(),t.pause(),t.next(t,!0,!1,!0)):(e.preventDefault(),t.pause(),t.previous(t,!0,!1,!0))),this.xDown=null,this.yDown=null}}}}},{key:"heartVisibilityHandler",value:function(t){null!==t&&t.settings.pauseOnInactiveWindow&&null!==document.querySelector(t.settings.slideshow)&&("hidden"==document.visibilityState?(console.log("%cWindow Lost Focus. HeartSlider is Paused.","font-style: italic; font-size: 0.9em; color: #757575; padding: 0.2em;"),t.pause()):(console.log("%cRegained Focus. Resumed HeartSlider.","font-style: italic; font-size: 0.9em; color: #6F9F67; padding: 0.2em;"),t.resume()))}},{key:"goToSlide",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.transitioning&&!n)return!1;if(!this.settings.loop&&!i&&t===this.firstIndex)return this.pause(),!1;this.transitioning=!0;var s=this;this.previousSlide=this.slides[this.index];var r=(t+this.total)%this.total;this.currentSlide=this.slides[r];var o=e||i||n?s.settings.manualTransition:s.settings.transition;this.index=r,this.progressiveLoad(r),this.progressiveLoad((r+1+s.total)%s.total),window.requestAnimationFrame(function(){var t=1;if(s.previousSlide===s.currentSlide&&n){clearTimeout(s.manualTimeout),clearInterval(s.slideInterval);var e=window.getComputedStyle(s.previousSlide).opacity;t=1-e,s.previousSlide.style.opacity=e,s.previousSlide.style.transition="none",setTimeout(function(){s.previousSlide.style.transition="opacity",s.previousSlide.style.transitionDelay="0ms",s.previousSlide.style.transitionDuration=o*t+"ms",s.previousSlide.style.opacity=null},16.6667)}else s.previousSlide!==s.currentSlide&&(s.previousSlide.style.transitionDelay=o+"ms",s.previousSlide.style.transitionDuration="0ms",s.previousSlide.classList.remove("active"));s.currentSlide.style.transitionDelay="0ms",s.currentSlide.style.transitionDuration=o+"ms",s.currentSlide.removeAttribute("aria-hidden"),s.currentSlide.removeAttribute("tab-index"),s.currentSlide.classList.add("active"),s.transitionEndTimer&&clearTimeout(s.transitionEndTimer),s.transitionStart&&s.transitionStart(s),s.transitionEndTimer=setTimeout(function(){s.previousSlide.style.transitionDelay="0ms",s.previousSlide.style.transitionDuration="0ms",i||(s.previousSlide.setAttribute("aria-hidden","true"),s.previousSlide.setAttribute("tab-index","-1"),s.transitionEnd&&s.transitionEnd(s)),s.transitioning=!1,s.transitionEndTimer=void 0},o*t)})}},{key:"progressiveLoad",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=Array.prototype.slice.call(this.slides[t].querySelectorAll("img"));n.length>0&&n.forEach(function(t,n){if(null!=t&&!t.classList.contains("image-loaded")&&!t.classList.contains("image-loading")&&null!==t.currentSrc){function s(){this.classList.add("image-loaded"),this.classList.remove("image-loading"),e&&0==n&&i.kickstart()}if(t.classList.add("image-loading"),t.complete&&t.naturalWidth>0)s.bind(t)();else{t.onload=s.bind(t);["sizes","srcset","src"].forEach(function(e){var i=t.getAttribute("data-"+e);i&&null==t.getAttribute(e)&&(t.setAttribute(e,i),t.setAttribute("data-"+e,""))})}}})}},{key:"prevNextHandler",value:function(t,e,i){var n=this;if(!0!==n.transitioning)!0===i&&n.progressiveLoad(e),n.goToSlide(t,i,!1,s),setTimeout(function(){n.transitioning=!1},i?n.settings.manualTransition:n.settings.transition);else if(!0===i){n.manualTimeout&&clearTimeout(n.manualTimeout),n.originallyPaused||(n.manualTimeout=setTimeout(n.resume(),n.settings.transition+n.settings.delay)),n.progressiveLoad(e);var s=!0;return void n.goToSlide(n.index,i,!1,s)}}}]),t}();